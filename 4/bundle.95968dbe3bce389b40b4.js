(()=>{"use strict";function e(e){const t=document.createElement("div");return t.innerHTML=e,t.firstElementChild}function t(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"beforeend";t.insertAdjacentElement(n,e.getElement())}class n{getTemplate(){return'<form class="trip-events__trip-sort  trip-sort" action="#" method="get">\n    <div class="trip-sort__item  trip-sort__item--day">\n      <input id="sort-day" class="trip-sort__input  visually-hidden" type="radio" name="trip-sort" value="sort-day" checked>\n      <label class="trip-sort__btn" for="sort-day">Day</label>\n    </div>\n\n    <div class="trip-sort__item  trip-sort__item--event">\n      <input id="sort-event" class="trip-sort__input  visually-hidden" type="radio" name="trip-sort" value="sort-event" disabled>\n      <label class="trip-sort__btn" for="sort-event">Event</label>\n    </div>\n\n    <div class="trip-sort__item  trip-sort__item--time">\n      <input id="sort-time" class="trip-sort__input  visually-hidden" type="radio" name="trip-sort" value="sort-time">\n      <label class="trip-sort__btn" for="sort-time">Time</label>\n    </div>\n\n    <div class="trip-sort__item  trip-sort__item--price">\n      <input id="sort-price" class="trip-sort__input  visually-hidden" type="radio" name="trip-sort" value="sort-price">\n      <label class="trip-sort__btn" for="sort-price">Price</label>\n    </div>\n\n    <div class="trip-sort__item  trip-sort__item--offer">\n      <input id="sort-offer" class="trip-sort__input  visually-hidden" type="radio" name="trip-sort" value="sort-offer" disabled>\n      <label class="trip-sort__btn" for="sort-offer">Offers</label>\n    </div>\n  </form>'}getElement(){return this.element||(this.element=e(this.getTemplate())),this.element}removeElement(){this.element=null}}class i{getTemplate(){return'<ul class="trip-events__list"></ul>'}getElement(){return this.element||(this.element=e(this.getTemplate())),this.element}removeElement(){this.element=null}}class s{constructor(e,t,n){this.point=e,this.destination=t,this.offers=n}getTemplate(){return e=this.point,t=this.destination,n=this.offers,`<li class="trip-events__item">\n    <div class="event">\n      <time class="event__date" datetime="2019-03-18">MAR 18</time>\n      <div class="event__type">\n        <img class="event__type-icon" width="42" height="42" src="img/icons/${e.type.toLowerCase()}.png" alt="Event type icon">\n      </div>\n      <h3 class="event__title">${t.name}</h3>\n      <div class="event__schedule">\n        <p class="event__time">\n          <time class="event__start-time" datetime="${e.dateStart}">${e.dateStart}</time>\n          &mdash;\n          <time class="event__end-time" datetime="${e.dateStop}">${e.dateStop}</time>\n        </p>\n        <p class="event__duration">30M</p>\n      </div>\n      <p class="event__price">\n        &euro;&nbsp;<span class="event__price-value">${e.basePrice}</span>\n      </p>\n      <h4 class="visually-hidden">Offers:</h4>\n      <ul class="event__selected-offers">\n      ${n.offers.map((e=>`\n        <li class="event__offer">\n          <span class="event__offer-title">${e.title}</span>\n          &plus;&euro;&nbsp;\n          <span class="event__offer-price">${e.price}</span>\n        </li>`)).join("")}\n\n      </ul>\n      <button class="event__favorite-btn event__favorite-btn--active" type="button">\n        <span class="visually-hidden">Add to favorite</span>\n        <svg class="event__favorite-icon" width="28" height="28" viewBox="0 0 28 28">\n          <path d="M14 21l-8.22899 4.3262 1.57159-9.1631L.685209 9.67376 9.8855 8.33688 14 0l4.1145 8.33688 9.2003 1.33688-6.6574 6.48934 1.5716 9.1631L14 21z"/>\n        </svg>\n      </button>\n      <button class="event__rollup-btn" type="button">\n        <span class="visually-hidden">Open event</span>\n      </button>\n    </div>\n  </li>`;var e,t,n}getElement(){return this.element||(this.element=e(this.getTemplate())),this.element}removeElement(){this.element=null}}class l{#e=null;#t=[];#n=[];constructor(e,t,n){this.#e=e,this.#t=t,this.#n=n}getTemplate(){return e=this.#e,t=this.#n,n=this.#t,`<li class="trip-events__item">\n    <form class="event event--edit" action="#" method="post">\n      <header class="event__header">\n        <div class="event__type-wrapper">\n          <label class="event__type  event__type-btn" for="event-type-toggle-1">\n            <span class="visually-hidden">Choose event type</span>\n            <img class="event__type-icon" width="17" height="17" src="img/icons/${e.type.toLowerCase()}.png" alt="Event type icon">\n          </label>\n          <input class="event__type-toggle  visually-hidden" id="event-type-toggle-1" type="checkbox">\n\n          <div class="event__type-list">\n            <fieldset class="event__type-group">\n              <legend class="visually-hidden">Event type</legend>\n              ${t.map((e=>`<div class="event__type-item">\n                <input id="event-type-${e.type.toLowerCase()}-1" class="event__type-input  visually-hidden" type="radio" name="event-type" value="${e.type.toLowerCase()}">\n                <label class="event__type-label  event__type-label--${e.type.toLowerCase()}" for="event-type-${e.type.toLowerCase()}-1">${e.type}</label>\n              </div>`)).join("")}\n            </fieldset>\n          </div>\n        </div>\n\n        <div class="event__field-group  event__field-group--destination">\n          <label class="event__label  event__type-output" for="event-destination-1">\n            ${e.type}\n          </label>\n          <input class="event__input  event__input--destination" id="event-destination-1" type="text" name="event-destination" value="${n.find((t=>t.id===e.destination)).name}" list="destination-list-1">\n          <datalist id="destination-list-1">\n            ${n.map((e=>`<option value="${e.name}"></option>`)).join("")}\n          </datalist>\n        </div>\n\n        <div class="event__field-group  event__field-group--time">\n          <label class="visually-hidden" for="event-start-time-1">From</label>\n          <input class="event__input  event__input--time" id="event-start-time-1" type="text" name="event-start-time" value="${e.dateStart}">\n          &mdash;\n          <label class="visually-hidden" for="event-end-time-1">To</label>\n          <input class="event__input  event__input--time" id="event-end-time-1" type="text" name="event-end-time" value="${e.dateStop}">\n        </div>\n\n        <div class="event__field-group  event__field-group--price">\n          <label class="event__label" for="event-price-1">\n            <span class="visually-hidden">Price</span>\n            &euro;\n          </label>\n          <input class="event__input  event__input--price" id="event-price-1" type="text" name="event-price" value="${e.basePrice}">\n        </div>\n\n        <button class="event__save-btn  btn  btn--blue" type="submit">Save</button>\n        <button class="event__reset-btn" type="reset">Delete</button>\n        <button class="event__rollup-btn" type="button">\n          <span class="visually-hidden">Open event</span>\n        </button>\n      </header>\n      <section class="event__details">\n        <section class="event__section  event__section--offers">\n          <h3 class="event__section-title  event__section-title--offers">Offers</h3>\n\n          <div class="event__available-offers">\n            ${t.find((t=>t.type===e.type)).offers.map((t=>`<div class="event__offer-selector">\n              <input class="event__offer-checkbox  visually-hidden" id="event-offer-${t.title}-1" type="checkbox" name="event-offer-${t.title}" ${e.offers.includes(t.id)?"checked":""}>\n              <label class="event__offer-label" for="event-offer-${t.title}-1">\n                <span class="event__offer-title">${t.title}</span>\n                &plus;&euro;&nbsp;\n                <span class="event__offer-price">${t.price}</span>\n              </label>\n            </div>`))}\n          </div>\n        </section>\n\n        <section class="event__section  event__section--destination">\n          <h3 class="event__section-title  event__section-title--destination">Destination</h3>\n          <p class="event__destination-description">${n.find((t=>t.id===e.destination)).description}</p>\n        </section>\n      </section>\n    </form>\n  </li>`;var e,t,n}getElement(){return this.element||(this.element=e(this.getTemplate())),this.element}removeElement(){this.element=null}}const a=window.location.href;class r{#i=null;#t=null;#n=null;getRoutePoints(){return this.#i=fetch(`${a}mockdata/points.json`).then((e=>e.json())).catch(),this.#i}getOffers(){return this.#t=fetch(`${a}mockdata/offers.json`).then((e=>e.json())).catch(),this.#t}getDestinations(){return this.#n=fetch(`${a}mockdata/destinations.json`).then((e=>e.json())).catch(),this.#n}}const o=document.querySelector(".trip-controls__filters"),p=document.querySelector(".trip-events"),d=new class{#s=new r;#l=null;#a=null;#r=null;pointListComponent=new i;constructor(e){let{boardContainer:t}=e;this.boardContainer=t}async init(){this.#l=await this.#s.getRoutePoints(),this.#a=await this.#s.getOffers(),this.#r=await this.#s.getDestinations(),t(new n,this.boardContainer),t(this.pointListComponent,this.boardContainer),t(new l(this.#l[2],this.#r,this.#a),this.pointListComponent.getElement()),this.#l.forEach((e=>{t(new s(e,this.#r.find((t=>t.id===e.destination)),this.#a.find((t=>t.type===e.type))),this.pointListComponent.getElement())}))}}({boardContainer:p});t(new class{getTemplate(){return'<div class="trip-main__trip-controls  trip-controls">\n    <div class="trip-controls__filters">\n      <h2 class="visually-hidden">Filter events</h2>\n      <form class="trip-filters" action="#" method="get">\n        <div class="trip-filters__filter">\n          <input id="filter-everything" class="trip-filters__filter-input  visually-hidden" type="radio" name="trip-filter" value="everything" checked>\n          <label class="trip-filters__filter-label" for="filter-everything">Everything</label>\n        </div>\n\n        <div class="trip-filters__filter">\n          <input id="filter-future" class="trip-filters__filter-input  visually-hidden" type="radio" name="trip-filter" value="future">\n          <label class="trip-filters__filter-label" for="filter-future">Future</label>\n        </div>\n\n        <div class="trip-filters__filter">\n          <input id="filter-present" class="trip-filters__filter-input  visually-hidden" type="radio" name="trip-filter" value="present">\n          <label class="trip-filters__filter-label" for="filter-present">Present</label>\n        </div>\n\n        <div class="trip-filters__filter">\n          <input id="filter-past" class="trip-filters__filter-input  visually-hidden" type="radio" name="trip-filter" value="past">\n          <label class="trip-filters__filter-label" for="filter-past">Past</label>\n        </div>\n\n        <button class="visually-hidden" type="submit">Accept filter</button>\n      </form>\n    </div>\n  </div>'}getElement(){return this.element||(this.element=e(this.getTemplate())),this.element}removeElement(){this.element=null}},o),d.init()})();
//# sourceMappingURL=bundle.95968dbe3bce389b40b4.js.map